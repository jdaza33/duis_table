(function(e){function t(t){for(var i,o,r=t[0],c=t[1],u=t[2],d=0,h=[];d<r.length;d++)o=r[d],n[o]&&h.push(n[o][0]),n[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var i={},n={app:0},a=[];function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=i,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"002b":function(e,t){e.exports=[{name:"C",mime:"text/x-csrc",ext:"c"},{name:"C++",mime:"text/x-c++src",ext:"cpp"},{name:"C#",mime:"text/x-csharp",ext:"csharp"},{name:"CCS",mime:"text/css",ext:"css"},{name:"DJango",mime:"text/x-django",ext:"py"},{name:"GO",mime:"text/x-go",ext:"go"},{name:"HTML",mime:"text/html",ext:"html"},{name:"Java",mime:"text/x-java",ext:"java"},{name:"Javascript",mime:"text/javascript",ext:"js"},{name:"JSON",mime:"application/json",ext:"json"},{name:"LESS",mime:"text/x-less",ext:"less"},{name:"PHP",mime:"text/x-php",ext:"php"},{name:"Python",mime:"text/x-python",ext:"py"},{name:"Objective-C",mime:"text/x-objectivec",ext:"h"},{name:"SASS",mime:"text/x-scss",ext:"scss"},{name:"SQL",mime:"text/x-sql",ext:"sql"},{name:"Typescript",mime:"text/typescript",ext:"ts"},{name:"XML",mime:"application/xml",ext:"xml"}]},"03cb":function(e,t,s){},"06c9":function(e,t,s){},1:function(e,t){},2:function(e,t){},2856:function(e,t,s){},"29ad":function(e,t,s){},3:function(e,t){},4:function(e,t){},"495e":function(e,t,s){},5:function(e,t){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d"),s("684e"),s("6d93");var i=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("router-view")],1)},a=[],o={},r=o,c=(s("5c0b"),s("b0a0"),s("2877")),u=Object(c["a"])(r,n,a,!1,null,null,null);u.options.__file="App.vue";var l=u.exports,d=s("8c4f"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-one-third master"},[s("section",{staticClass:"section"},[s("p",{staticClass:"title is-3 has-text-centered"},[e._v("¡Bienvenido!")]),s("b-field",[s("b-input",{attrs:{placeholder:"Username",type:"text","icon-pack":"fas",icon:"user",maxlength:"12",min:"5",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.login()}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),s("b-field",[s("b-input",{attrs:{placeholder:"Contraseña",type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.login()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),s("div",{staticClass:"has-text-centered"},[s("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(t){e.login()}}},[e._v("Iniciar Sesión")])])],1)]),e._m(0),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},p=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"interactive-bg column master submaster"},[s("img",{staticClass:"login-logo",attrs:{src:"img/duis-full.png"}})])}],m=(s("7f7f"),s("28a5"),s("96cf"),s("3040")),f=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,i){var n,a,o,r,c,u,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=s("bc3a"),a="?_token=".concat("46220802"),o=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,s){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=null,e.next=3,n.post("".concat("https://duislessonserver.herokuapp.com","/api/login").concat(a),{username:t,password:s}).then(function(e){200==e.data.code&&(i="S001")}).catch(function(e){console.log(e),i="E001"});case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),r=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=null,i=null,e.next=4,n.get("".concat("https://duislessonserver.herokuapp.com","/api/show_by_username/").concat(t).concat(a)).then(function(e){if(e.data.response.length>0){var t=e.data.response[0];s={name:t.name,id:t.id,role:t.role},i="I001"}else i="E003"}).catch(function(e){console.log(e),i="E002"});case 4:return e.abrupt("return",{data:s,code:i});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=null,u=null,e.next=8,r(t);case 8:if(l=e.sent,c=l.data,"I"!=l.code.split("")[0]){e.next=16;break}return e.next=13,o(t,i);case 13:u=e.sent,e.next=17;break;case 16:u=l.code;case 17:return e.abrupt("return",{data:c,code:u});case 18:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),b=s("cdd9"),v=s.n(b),g=function(e,t){var s=t.split("")[0],i="S"==s?{a:"is-success",b:"success"}:"W"==s?{a:"is-warning",b:"warn"}:"I"==s?{a:"is-info",b:"info"}:{a:"is-danger",b:"error"},n=v.a[t];e.$toast.open({duration:3e3,message:n,position:"is-top",type:i.a,queue:!1})},k={name:"login",data:function(){return{show:1,user:{username:"",password:""},isFullPage:!0,isLoading:!1}},mounted:function(){},methods:{login:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,f(this.user.username,this.user.password);case 3:t=e.sent,g(this,t.code),"S"==t.code.split("")[0]&&(this.$cookie.set("userId",t.data.id,{expires:"1D"}),this.$cookie.set("username",this.user.username,{expires:"1D"}),this.$cookie.set("role",t.data.role,{expires:"1D"}),this.$cookie.set("name",t.data.name,{expires:"1D"}),this.$cookie.set("isClass",!1,{expires:"1D"}),this.$router.push({name:"class"})),this.isLoading=!1;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},x=k,C=(s("aa8d"),Object(c["a"])(x,h,p,!1,null,"b2818136",null));C.options.__file="Login.vue";var _=C.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"dash"}},[s("nav",{staticClass:"navbar"},[s("div",{staticClass:"navbar-brand"},[s("a",{staticClass:"navbar-item",on:{click:function(t){e.go("login")}}},[s("img",{attrs:{src:"img/duis-min.png",width:"30",height:"28"}}),s("h1",{staticClass:"title is-3 titlecolor"},[e._v("Duis")])]),s("div",{staticClass:"navbar-burger burger",attrs:{"data-target":"nav-phone"},on:{click:function(t){e.burger()}}},[s("span"),s("span"),s("span")])]),s("div",{staticClass:"navbar-menu",attrs:{id:"nav-phone"}},[s("div",{staticClass:"navbar-end"},[s("b-dropdown",{attrs:{position:"is-bottom-left"}},[s("a",{staticClass:"navbar-item is-info",attrs:{slot:"trigger"},slot:"trigger"},[s("span",[e._v(e._s(e.username))]),s("b-icon",{attrs:{icon:"caret-down",pack:"fas"}})],1),1==e.isClass?s("div",[s("b-dropdown-item",{on:{click:function(t){e.backInClass()}}},[s("b-icon",{attrs:{icon:"door-open",pack:"fas"}}),e._v("\n                      Volver\n                  ")],1)],1):e._e(),1==e.isClass&&"teacher"==e.role?s("div",[s("b-dropdown-item",{on:{click:function(t){e.finalizeClass()}}},[s("b-icon",{attrs:{icon:"graduation-cap",pack:"fas"}}),e._v("\n                      Finalizar clase\n                  ")],1)],1):e._e(),s("b-dropdown-item",{on:{click:function(t){e.reportAbuse()}}},[s("b-icon",{attrs:{icon:"bullhorn",pack:"fas"}}),e._v("\n                  Reportar Abuso\n               ")],1),s("b-dropdown-item",{on:{click:function(t){e.logout()}}},[s("b-icon",{attrs:{icon:"sign-out-alt",pack:"fas"}}),e._v("\n                  Salir\n               ")],1)],1)],1)])]),s("div",{staticClass:"center"},[s("div",{staticClass:"is-main-content"},[s("router-view"),s("b-modal",{attrs:{active:e.isModalReportAbuseActive,"has-modal-card":""},on:{"update:active":function(t){e.isModalReportAbuseActive=t}}},[s("modal-report-abuse")],1)],1)]),e._m(0),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading,"can-cancel":!1},on:{"update:active":function(t){e.isLoading=t}}})],1)},$=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("div",{staticClass:"content has-text-centered"},[s("p",[e._v("\n        ©2018 — "),s("strong",[e._v("Duis")])])])])}],y=(s("6b54"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"modal-card",staticStyle:{width:"500px"}},[e._m(0),s("section",{staticClass:"modal-card-body"},[s("div",{staticClass:"content-card"},[s("b-input",{attrs:{placeholder:"Asunto",type:"text","icon-pack":"fas",icon:"bullhorn",maxlength:"25",min:"10",rounded:""},model:{value:e.abuse.issue,callback:function(t){e.$set(e.abuse,"issue",t)},expression:"abuse.issue"}}),s("b-input",{attrs:{placeholder:"Descripción",type:"textarea",maxlength:"75",min:"10",rounded:""},model:{value:e.abuse.description,callback:function(t){e.$set(e.abuse,"description",t)},expression:"abuse.description"}})],1)]),s("footer",{staticClass:"modal-card-foot center"},[s("a",{staticClass:"button is-vcentered is-danger is-outlined is-rounded",on:{click:function(t){e.$parent.close()}}},[e._v("Salir")]),s("a",{staticClass:"button is-vcentered is-success is-rounded",on:{click:function(t){e.save()}}},[e._v("Guardar")])])])])}),E=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title has-text-centered"},[e._v("Nuevo Reclamo")])])}],I=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var i,n,a,o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=s("bc3a"),n="?_token=".concat("46220802"),a=null,o=null,r=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=null,e.next=3,i.post("".concat("https://duislessonserver.herokuapp.com","/api/claim").concat(n),t).then(function(e){200==e.data.code&&(s="S003")}).catch(function(e){console.log(e),s="E006"});case 3:return e.abrupt("return",s);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),e.next=7,r(t);case 7:return o=e.sent,e.abrupt("return",{data:a,code:o});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),S={data:function(){new Date;return{isLoading:!1,isFullPage:!0,abuse:{issue:"",user_id:this.$cookie.get("userId"),description:""}}},methods:{save:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I(this.abuse);case 2:t=e.sent,g(this,t.code),this.$parent.close();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},O=S,P=(s("a5af"),Object(c["a"])(O,y,E,!1,null,"4946498c",null));P.options.__file="ModalReportAbuse.vue";var R=P.exports,T=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var i,n,a,o,r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=s("bc3a"),n="?_token=".concat("46220802"),a=null,o=null,r=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=null,e.next=3,i.post("".concat("https://duislessonserver.herokuapp.com","/api/finishsession").concat(n),t).then(function(e){e.data.code>200&&e.data.code<300&&(s="S004")}).catch(function(e){console.log(e),s="E007"});case 3:return e.abrupt("return",s);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.delete("".concat("https://app-duis.herokuapp.com","/class/").concat(s),t).then(function(e){e.data.res}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),e.next=8,r(t.data);case 8:return o=e.sent,e.next=11,c(t.id);case 11:return e.abrupt("return",{data:a,code:o});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),j={data:function(){return{drawer:!0,preLoading:0,isLoading:!1,isFullPage:!0,userData:"",userInfoData:"",role:this.$cookie.get("role"),right:null,menus:[{title:"Cerrar Sesión"}],isModalReportAbuseActive:!1,isRoute:this.$router.currentRoute.name,isClass:!1,timeClass:null}},mounted:function(){},components:{ModalReportAbuse:R},methods:{logout:function(){this.$cookie.delete("userId"),this.$cookie.delete("username"),this.$cookie.delete("role"),this.$cookie.delete("name"),this.$cookie.delete("sessionId"),this.$cookie.delete("token"),this.$cookie.delete("classId"),this.$cookie.delete("isTime"),this.$cookie.delete("time_h"),this.$cookie.delete("time_m"),this.$cookie.delete("time_s"),this.$cookie.delete("videoShared"),this.$cookie.delete("audioShared"),this.$cookie.delete("isClass"),location.reload()},go:function(e){this.$router.push({name:e})},burger:function(){var e=document.querySelector(".burger"),t=document.querySelector("#"+e.dataset.target);e.classList.toggle("is-active"),t.classList.toggle("is-active")},isNotLoading:function(){2==this.preLoading&&(this.isLoading=!1)},loadDataUser:function(){this.username=this.$cookie.get("username"),this.userId=this.$cookie.get("userId")},reportAbuse:function(){this.isModalReportAbuseActive=!0},backInClass:function(){this.$cookie.delete("sessionId"),this.$cookie.delete("token"),this.$cookie.delete("classId"),this.$cookie.delete("isTime"),this.$cookie.delete("time_h"),this.$cookie.delete("time_m"),this.$cookie.delete("time_s"),this.$cookie.delete("videoShared"),this.$cookie.delete("audioShared"),this.$cookie.set("isClass",!1,{expires:"12h"}),this.go("class"),location.reload()},finalizeClass:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={session_id:this.$cookie.get("sessionId").toString(),duration_time:"".concat(this.$cookie.get("time_h").toString(),":").concat(this.$cookie.get("time_m").toString(),":").concat(this.$cookie.get("time_s").toString()),video_shared:this.$cookie.get("videoShared"),audio_shared:this.$cookie.get("audioShared"),user_one_id:this.$cookie.get("userId"),user_two_id:"0"},e.next=3,T({data:t,id:this.$cookie.get("classId")});case 3:s=e.sent,console.log(s),g(this,s.code),"S"==s.code.split("")[0]&&(this.$cookie.delete("sessionId"),this.$cookie.delete("token"),this.$cookie.delete("classId"),this.$cookie.delete("isTime"),this.$cookie.delete("time_h"),this.$cookie.delete("time_m"),this.$cookie.delete("time_s"),this.$cookie.delete("videoShared"),this.$cookie.delete("audioShared"),this.$cookie.set("isClass",!1,{expires:"12h"}),this.go("class"),location.reload());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},created:function(){var e=this;this.loadDataUser(),this.timeClass=setInterval(function(){e.isClass=JSON.parse(e.$cookie.get("isClass"))},1e3)}},L=j,A=(s("d461"),Object(c["a"])(L,w,$,!1,null,"27cb4fe6",null));A.options.__file="Panel.vue";var M=A.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-9"},[s("section",[s("b-tabs",{attrs:{position:"is-centered",type:"is-toggle-rounded"}},[s("b-tab-item",{attrs:{label:"Editor de Texto",icon:"edit","icon-pack":"fas"}},[s("vue-editor",{ref:"editor",attrs:{editorToolbar:e.toolbarEditText},on:{"selection-change":function(t){e.postEditText()}},nativeOn:{keyup:function(t){e.postEditText()}},model:{value:e.textEdit,callback:function(t){e.textEdit=t},expression:"textEdit"}}),s("br"),s("a",{staticClass:"button is-vcentered is-success is-rounded",attrs:{target:"_blank"},on:{click:function(t){e.saveEditText()}}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-save"})]),s("span",[e._v("Guardar Texto")])])],1),s("b-tab-item",{attrs:{label:"Editor de Codigo",icon:"code","icon-pack":"fas"}},[s("b-tabs",{attrs:{size:"is-small"},model:{value:e.activeTabCode,callback:function(t){e.activeTabCode=t},expression:"activeTabCode"}},e._l(e.listEditCode,function(t,i){return s("b-tab-item",{key:i,attrs:{label:"Nro. "+(i+1)}},[s("b-field",{attrs:{grouped:""}},[s("a",{staticClass:"button is-success is-outlined space-min-right",on:{click:function(t){e.addTabCode()}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-file-code"})])]),0!=i?s("div",[s("a",{staticClass:"button is-danger is-outlined space-right",on:{click:function(t){e.deleteTabCode(i)}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-file-export"})])])]):e._e(),s("b-select",{attrs:{placeholder:"Lenguajes",icon:"file-code","icon-pack":"fas"},model:{value:t.cmOptions.mode,callback:function(s){e.$set(t.cmOptions,"mode",s)},expression:"item.cmOptions.mode"}},e._l(t.modes,function(t,i){return s("option",{key:i,domProps:{value:t.mime}},[e._v(e._s(t.name))])})),s("a",{staticClass:"button",on:{click:function(t){e.setCodeEdit("-",i)}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-search-minus"})])]),s("a",{staticClass:"button space-right",on:{click:function(t){e.setCodeEdit("+",i)}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-search-plus"})])]),s("a",{staticClass:"button is-primary is-outlined",on:{click:function(t){e.saveCode(i)}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-save"})])])],1),s("codemirror",{style:"font-size: "+t.sizeCode+"px;",attrs:{options:t.cmOptions},nativeOn:{keyup:function(t){e.postCode(i)}},model:{value:t.codeEdit,callback:function(s){e.$set(t,"codeEdit",s)},expression:"item.codeEdit"}})],1)}))],1),s("b-tab-item",{attrs:{label:"Tabla de Dibujo",icon:"palette","icon-pack":"fas"}},[s("paint")],1)],1)],1)]),s("div",{staticClass:"column is-3"},[s("b-taglist",{attrs:{attached:""}},[s("b-tag",{attrs:{type:"is-dark"}},[e._v("Tiempo HH:MM:SS")]),s("b-tag",{attrs:{type:"is-info"}},[e._v(e._s(e.time.hour+":"+e.time.min+":"+e.time.s))])],1),s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},e._l(e.streams,function(t,i){return s("div",{key:i,attrs:{id:"subscribers"}},[s("subscriber",{attrs:{opts:e.optsTwo,stream:t,session:e.session},on:{error:e.errorHandler}})],1)})),s("div",{staticClass:"card-content center"},e._l(e.statusPublisher,function(e,t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e,expression:"item"}],key:t,attrs:{id:"publisher"+t}})})),s("div",{staticClass:"card-footer"},[s("a",{class:1==e.isPublishVideo?"button is-medium is-success is-outlined card-footer-item":"button is-medium is-danger card-footer-item",on:{click:function(t){e.isVideo()}}},[e._m(0)]),s("a",{class:1==e.isPublishAudio?"button is-medium is-success is-outlined card-footer-item":"button is-medium is-danger card-footer-item",on:{click:function(t){e.isAudio()}}},[e._m(1)])])]),s("chat",{staticClass:"chat"})],1)])])},U=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-medium"},[s("i",{staticClass:"fas fa-video"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-medium"},[s("i",{staticClass:"fas fa-volume-up"})])}],V=s("33ba"),z=s.n(V),N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},F=[],q={name:"subscriber",props:{stream:{type:OT.Stream,required:!0},session:{type:OT.Session,required:!0},opts:{type:Object,required:!1}},mounted:function(){var e=this,t=this.session.subscribe(this.stream,this.$el,this.opts,function(s){s?e.$emit("error",s):e.$emit("subscriberConnected",t)});this.$emit("subscriberCreated",t)}},J=q,B=Object(c["a"])(J,N,F,!1,null,null,null);B.options.__file="Subscriber.vue";var W=B.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("beautiful-chat",{attrs:{participants:e.participants,titleImageUrl:e.titleImageUrl,onMessageWasSent:e.onMessageWasSent,messageList:e.messageList,newMessagesCount:e.newMessagesCount,isOpen:e.isChatOpen,close:e.closeChat,open:e.openChat,showEmoji:!1,showFile:!1,showTypingIndicator:e.showTypingIndicator,colors:e.colors,alwaysScrollToBottom:e.alwaysScrollToBottom}})],1)},Y=[],H=s("bc3a"),K=s.n(H),G=s("323e"),Q=s.n(G);Q.a.configure({showSpinner:!1}),Q.a.configure({minimum:.3});var Z="https://app-duis.herokuapp.com",ee=K.a.create({baseURL:Z,timeout:3e4});ee.interceptors.request.use(function(e){return Q.a.start(),e}),ee.interceptors.response.use(function(e){return Q.a.done(),e});var te=ee,se=s("726d"),ie={name:"app",data:function(){return{participants:[{id:"0",name:"Clase",imageUrl:"https://avatars3.githubusercontent.com/u/1915989?s=230&v=4"}],titleImageUrl:"img/duis-min.png",messageList:[],newMessagesCount:0,isChatOpen:!1,showTypingIndicator:"",colors:{header:{bg:"#e65c00",text:"#ffffff"},launcher:{bg:"#e65c00"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#e65c00",text:"#ffffff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#f4f7f9",text:"#565867"}},alwaysScrollToBottom:!1,chatManager:"",currentUser:null}},methods:{sendMessage:function(e){},onMessageWasSent:function(e){te.post("/message/send",{roomId:this.$cookie.get("roomIdChatkit").toString(),userId:this.$cookie.get("userId").toString(),message:e.data.text}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},openChat:function(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat:function(){this.isChatOpen=!1}},mounted:function(){var e=this;this.chatManager=new se["ChatManager"]({instanceLocator:"v1:us1:8bd51fc5-238c-41f3-9cf4-d998d087171b",userId:this.$cookie.get("userId").toString(),tokenProvider:new se["TokenProvider"]({url:"".concat("https://app-duis.herokuapp.com","/chatkit/token")})}),this.chatManager.connect().then(function(t){e.currentUser=t,t.subscribeToRoom({roomId:e.$cookie.get("roomIdChatkit").toString(),hooks:{onMessage:function(t){e.newMessagesCount=0,e.messageList.push({type:"text",author:t.senderId.toString()==e.$cookie.get("userId").toString()?"me":"0",data:{text:t.text},date:new Date}),e.$forceUpdate()}}})}).catch(function(e){console.log("Error on connection",e)})}},ne=ie,ae=Object(c["a"])(ne,X,Y,!1,null,null,null);ae.options.__file="Chat.vue";var oe=ae.exports,re=(s("f30f"),s("1d94")),ce=s.n(re),ue=s("b3e9"),le=s("8f94"),de=s("002b"),he=s.n(de),pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"app"}},[s("div",{staticClass:"main"},[s("canvas",{directives:[{name:"canvas",rawName:"v-canvas",value:{size:e.size},expression:"{size}"}]})])])])},me=[],fe=(s("ac6a"),s("c93e")),be=s("11c1"),ve=s("782e"),ge=s.n(ve);function ke(e,t){var s=e,i=s.getContext("2d");s.width=1e3,s.height=400,i.lineJoin="round",i.lineCap="round",i.lineWidth=t.value.size;var n=new ge.a("0f5f2bf6cc6d01e862a4",{cluster:"us2"}),a=n.subscribe("painting"),o={offsetX:0,offsetY:0},r=[],c=!1,u=Object(be["v4"])(),l="black",d="black";function h(e){var t=e.offsetX,s=e.offsetY;c=!0,o={offsetX:t,offsetY:s}}function p(){c&&(c=!1,f())}function m(e){if(c){var t=e.offsetX,s=e.offsetY,i={offsetX:t,offsetY:s},n={start:Object(fe["a"])({},o),stop:Object(fe["a"])({},i)};r=r.concat(n),b(o,i,l)}}function f(){var e={line:r,userId:u};fetch("".concat("https://app-duis.herokuapp.com","/paint"),{method:"post",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then(function(){return r=[]})}function b(e,t,s){var n=t.offsetX,a=t.offsetY,r=e.offsetX,c=e.offsetY;i.beginPath(),i.strokeStyle=s,i.moveTo(r,c),i.lineTo(n,a),i.stroke(),o={offsetX:n,offsetY:a}}s.addEventListener("mousedown",h),s.addEventListener("mousemove",m),s.addEventListener("mouseup",p),s.addEventListener("mouseleave",p),a.bind("draw",function(e){var t=e.userId,s=e.line;u!==t&&s.forEach(function(e){b(e.start,e.stop,d)})})}var xe={inserted:ke},Ce={data:function(){return{size:5}},directives:{canvas:xe},methods:{maxSize:function(){this.size+=5,this.$forceUpdate()}}},_e=Ce,we=(s("625c"),Object(c["a"])(_e,pe,me,!1,null,null,null));we.options.__file="Canvas.vue";var $e=we.exports,ye=function(e){console.log("error --\x3e "+e)},Ee={data:function(){return{username:"",userId:"",classId:"",timer:"",time:{hour:0,min:0,s:0},apiKey:"46220802",sessionId:"",token:"",streams:[],session:null,optsOne:{publishAudio:!0,publishVideo:!0,videoSource:!0,height:"80px",width:"50%"},channel:{},listEditCode:[],lenguages:he.a,activeTabCode:0,isPublish:!1,publisher:null,statusPublisher:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],contPublisher:0,optsTwo:{publishAudio:!0,publishVideo:!0,videoSource:!0,height:"120px",width:"100%"},isPublishVideo:!0,isPublishAudio:!0,textEdit:"",toolbarEditText:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}]],table:null,size:15}},components:{Chat:oe,Subscriber:W,codemirror:le["codemirror"],msDrawBoard:ce.a,VueEditor:ue["VueEditor"],Paint:$e},created:function(){var e=this;if(this.time.s=parseInt(this.$cookie.get("time_s")),this.time.min=parseInt(this.$cookie.get("time_m")),this.time.hour=parseInt(this.$cookie.get("time_h")),this.timer=setInterval(function(){var t=JSON.parse(e.$cookie.get("isTime")),s=t?parseInt(e.$cookie.get("time_s")):1;if(e.$cookie.set("isTime",!0),s+=1,s>59){var i=parseInt(e.$cookie.get("time_m"));if(e.$cookie.set("time_m",i+1),e.time.min=parseInt(e.$cookie.get("time_m")),e.time.min>59){e.$cookie.set("time_m",0);var n=parseInt(e.$cookie.get("time_h"));e.$cookie.set("time_h",n+1),e.time.min=0,e.time.hour=parseInt(e.$cookie.get("time_h"))}e.time.s=0,e.$cookie.set("time_s",0)}else e.$cookie.set("time_s",s),e.time.s=parseInt(e.$cookie.get("time_s"))},1e3),this.sessionId=this.$cookie.get("sessionId").toString(),this.token=this.$cookie.get("token").toString(),this.classId=this.$cookie.get("classId").toString(),this.username=this.$cookie.get("username").toString(),this.userId=this.$cookie.get("userId").toString(),void 0!=this.classId){this.session=z.a.initSession(this.apiKey,this.sessionId),this.session.connect(this.token,function(e){e&&ye(e)}),null!=this.publisher&&(this.publisher.on("streamCreated",function(e){}),this.publisher.on("streamDestroyed",function(e){})),this.session.on("streamCreated",function(t){e.streams.push(t.stream)}),this.session.on("streamDestroyed",function(t){var s=e.streams.indexOf(t.stream);s>-1&&e.streams.splice(s,1)});var t=new Pusher("8f742a687d8bb741545f",{cluster:"us2",encrypted:!0,forceTLS:!0,authEndpoint:"".concat("https://duislessonserver.herokuapp.com","/api/pusher/auth")});this.channel=t.subscribe("private-".concat(this.classId)),this.channel.bind("client-new-text",function(t){e.setTextEdit(t)}),this.channel.bind("client-new-code",function(t){e.setCode(t)}),this.channel.bind("client-new-status",function(t){t!=e.$cookie.get("userId").toString()&&(e.postEditText(""),e.postCode(""))})}else this.$router.push({name:"class"})},mounted:function(){var e=this;setTimeout(function(){e.channel.trigger("client-new-status",e.$cookie.get("userId").toString())},2e3),this.addTabCode(),this.accessVideCam()},methods:{errorHandler:ye,addTabCode:function(){var e={codeEdit:"//Escribe tu codigo",modes:he.a,sizeCode:14,cmOptions:{tabSize:2,styleActiveLine:!0,lineNumbers:!0,styleSelectedText:!0,line:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0},mode:"text/javascript",hintOptions:{completeSingle:!1},keyMap:"sublime",matchBrackets:!0,showCursorWhenSelecting:!0,theme:"monokai",extraKeys:{Ctrl:"autocomplete"},autofocus:!0}};this.listEditCode.push(e),this.$forceUpdate()},deleteTabCode:function(e){this.listEditCode.splice(e,1),this.activeTabCode-=1,this.$forceUpdate()},setFocusEditText:function(){this.$refs.editor.quill.focus()},setBlurEditText:function(){this.$refs.editor.quill.blur()},setCodeEdit:function(e,t){"-"==e&&(this.listEditCode[t].sizeCode-=1),"+"==e&&(this.listEditCode[t].sizeCode+=1)},accessVideCam:function(){var e=this;this.$dialog.confirm({title:"Acceso a videollamada",message:"¿Desea habilitar el <br> acceso a la videollamada?",confirmText:"¡Si claro!",cancelText:"No",type:"is-success",hasIcon:!0,iconPack:"fas",icon:"video",onConfirm:function(){e.$toast.open("Videollamada: OK"),e.showPublish()},onCancel:function(){}})},isVideo:function(){1==this.isPublish?(1==this.isPublishVideo?(this.publisher.publishVideo(!1),this.isPublishVideo=!1):(this.publisher.publishVideo(!0),this.isPublishVideo=!0),0==this.isPublishVideo&&0==this.isPublishAudio&&this.showPublish()):0==this.isPublish&&(this.showPublish(),this.publisher.publishAudio(!1),this.isPublishAudio=!1),this.$forceUpdate()},isAudio:function(){1==this.isPublish?(1==this.isPublishAudio?(this.publisher.publishAudio(!1),this.isPublishAudio=!1):(this.publisher.publishAudio(!0),this.isPublishAudio=!0),0==this.isPublishVideo&&0==this.isPublishAudio&&this.showPublish()):0==this.isPublish&&(this.showPublish(),this.publisher.publishVideo(!1),this.isPublishVideo=!1),this.$forceUpdate()},showPublish:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:0==this.isPublish?(this.statusPublisher[this.contPublisher]=!0,this.publisher=z.a.initPublisher("publisher".concat(this.contPublisher),this.optsOne,function(e){e&&console.log(e)}),this.session.publish(this.publisher,function(e){e&&console.log("error",e)}),this.isPublish=!0,this.contPublisher+=1):(this.session.unpublish(this.publisher),this.publisher=null,this.isPublish=!1,this.isPublishVideo=!0,this.isPublishAudio=!0,this.statusPublisher[this.contPublisher-1]=!0),this.$forceUpdate();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),postEditText:function(e){this.channel.trigger("client-new-text",this.textEdit)},postCode:function(e){this.channel.trigger("client-new-code",this.listEditCode)},setTextEdit:function(e){this.setBlurEditText(),this.textEdit=e},setCode:function(e){this.listEditCode=e},saveEditText:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te.post("/download",{text:this.textEdit,ext:"html"},{responseType:"blob"}).then(function(e){g(t,"I004");var s=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=s,i.setAttribute("download","file.html"),document.body.appendChild(i),i.click()}).catch(function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(s),g(t,"E009");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveCode:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var s,i,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(n in s=this.lenguages,i=null,s)s[n].mime==this.listEditCode[t].cmOptions.mode&&(i=s[n].ext);return e.next=5,te.post("/download",{text:this.listEditCode[t].codeEdit,ext:i},{responseType:"blob"}).then(function(e){g(a,"I004");var t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=t,s.setAttribute("download","file.".concat(i)),document.body.appendChild(s),s.click()}).catch(function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),g(a,"E009");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},Ie=Ee,Se=(s("fbaf"),s("e8ca"),Object(c["a"])(Ie,D,U,!1,null,"6a049db6",null));Se.options.__file="Tablero.vue";var Oe=Se.exports,Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-1"},[s("div",{staticClass:"card center"},[s("div",{staticClass:"card-content"},[s("a",{staticClass:"button is-large is-vcentered is-success is-outlined ismenu",on:{click:function(t){"teacher"==e.role?e.isModalClassActive=!0:e.notifyStudent("W001")}}},[e._m(0)]),e._m(1)])])]),s("div",{staticClass:"column is-11"},[s("div",{staticClass:"columns is-gapless is-multiline is-mobile"},e._l(e.dataClass,function(t,i){return s("div",{key:i,staticClass:"column is-one-quarter"},[s("div",{staticClass:"card class"},[s("div",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(e._s(t.name))]),s("a",{staticClass:"card-header-icon",attrs:{"aria-label":"more options"}},[s("b-icon",{attrs:{type:{"is-success":!0},icon:"circle",pack:"fas"}})],1)]),s("div",{staticClass:"card-content"},[s("strong",[e._v("Tema: ")]),e._v(e._s(t.theme)+" "),s("br"),s("strong",[e._v("Profesor(a): ")]),e._v(e._s(t.teacher_name)+" "),s("br"),s("strong",[e._v("Fecha inicio: ")]),e._v(" "+e._s(t.date_start.substring(0,10))+" "),s("br")]),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"card-footer-item",on:{click:function(s){e.assignClass(t._id,t.sessionId,t.token,t.roomIdChatkit)}}},[s("strong",[e._v("Ir a la clase")])])])])])}))]),s("b-modal",{attrs:{active:e.isModalClassActive,"has-modal-card":""},on:{"update:active":function(t){e.isModalClassActive=t}}},[s("modal-class")],1)],1),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},Re=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fas fa-plus-circle"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"button is-large is-vcentered is-danger is-outlined ismenu"},[s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fas fa-times-circle"})])])}],Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"modal-card",staticStyle:{width:"500px"}},[e._m(0),s("section",{staticClass:"modal-card-body"},[s("div",{staticClass:"content-card"},[s("b-input",{attrs:{placeholder:"Nombre de la clase",type:"text","icon-pack":"fas",icon:"chalkboard-teacher",maxlength:"25",min:"10",rounded:""},model:{value:e.classroom.name,callback:function(t){e.$set(e.classroom,"name",t)},expression:"classroom.name"}}),s("b-input",{attrs:{placeholder:"Tema de la clase",type:"text","icon-pack":"fas",icon:"chalkboard-teacher",maxlength:"25",min:"10",rounded:""},model:{value:e.classroom.theme,callback:function(t){e.$set(e.classroom,"theme",t)},expression:"classroom.theme"}}),s("b-input",{attrs:{placeholder:"Profesor",type:"text","icon-pack":"fas",icon:"graduation-cap",maxlength:"20",min:"10",rounded:""},model:{value:e.classroom.teacher_name,callback:function(t){e.$set(e.classroom,"teacher_name",t)},expression:"classroom.teacher_name"}}),s("b-datepicker",{attrs:{placeholder:"Fecha de inicio",icon:"calendar-alt","icon-pack":"fas",rounded:"",disabled:""},model:{value:e.classroom.date_start,callback:function(t){e.$set(e.classroom,"date_start",t)},expression:"classroom.date_start"}}),s("b-datepicker",{attrs:{placeholder:"Fecha de fin",icon:"calendar-alt","icon-pack":"fas",rounded:"",disabled:""},model:{value:e.classroom.due_date,callback:function(t){e.$set(e.classroom,"due_date",t)},expression:"classroom.due_date"}})],1)]),s("footer",{staticClass:"modal-card-foot center"},[s("a",{staticClass:"button is-vcentered is-danger is-outlined is-rounded",on:{click:function(t){e.$parent.close()}}},[e._v("Salir")]),s("a",{staticClass:"button is-vcentered is-success is-rounded",on:{click:function(t){e.save()}}},[e._v("Guardar")])])]),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},je=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title has-text-centered"},[e._v("Nueva clase")])])}],Le=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,i){var n,a,o,r,c,u,l,d,h,p,f,b,v,g,k,x,C,_;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=s("bc3a"),a=null,o=null,r=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=null,i=null,e.next=4,n.post("".concat("https://app-duis.herokuapp.com","/class/new"),t).then(function(e){e.data.res&&(s="S002")}).catch(function(e){console.log(e),s="E005"});case 4:return e.abrupt("return",{code:s,data:i});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=null,e.next=3,n.get("".concat("https://app-duis.herokuapp.com","/user/").concat(t)).then(function(e){s=e.data.res}).catch(function(e){console.log(e)});case 3:return e.abrupt("return",s);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,s){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=null,e.next=3,n.post("".concat("https://app-duis.herokuapp.com","/user/create"),{id:t,name:s}).then(function(e){i=e.data.res}).catch(function(e){console.log(e)});case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),l=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,s){var i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=null,a=null,e.next=4,n.post("".concat("https://app-duis.herokuapp.com","/room/new"),{userId:t,name:s}).then(function(e){i=e.data.res,a=e.data.roomId}).catch(function(e){console.log(e)});case 4:return e.abrupt("return",{response:i,roomId:a});case 5:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),d=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,s){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=null,e.next=3,n.post("".concat("https://app-duis.herokuapp.com","/room/add/users"),{userId:t,roomId:s}).then(function(e){e.data.res&&(i="I005")}).catch(function(e){console.log(e),i="E010"});case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),"postClass"!=i){e.next=39;break}return e.next=11,c(t.teacher_id);case 11:if(h=e.sent,!h){e.next=25;break}return e.next=15,l(t.teacher_id,"Clase - ".concat(t.name));case 15:if(p=e.sent,!p.response){e.next=23;break}return t.roomIdChatkit=p.roomId,e.next=20,r(t);case 20:f=e.sent,a=f.data,o=f.code;case 23:e.next=39;break;case 25:return e.next=27,u(t.teacher_id,t.teacher_name);case 27:if(b=e.sent,!b){e.next=39;break}return e.next=31,l(t.teacher_id,"Clase - ".concat(t.name));case 31:if(v=e.sent,!v.response){e.next=39;break}return t.roomIdChatkit=v.roomId,e.next=36,r(t);case 36:g=e.sent,a=g.data,o=g.code;case 39:if("addUserChatkit"!=i){e.next=58;break}return e.next=42,c(t.userId);case 42:if(k=e.sent,!k){e.next=50;break}return e.next=46,d(t.userId,t.id);case 46:x=e.sent,o=x,e.next=58;break;case 50:return e.next=52,u(t.userId,t.userName);case 52:if(C=e.sent,!C){e.next=58;break}return e.next=56,d(t.userId,t.id);case 56:_=e.sent,o=_;case 58:return e.abrupt("return",{data:a,code:o});case 59:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),Ae={data:function(){var e=new Date;return{isLoading:!1,isFullPage:!0,classroom:{name:"",teacher_id:this.$cookie.get("userId"),teacher_name:this.$cookie.get("name"),theme:"",token:"",sessionId:"",roomIdChatkit:"",date_start:new Date,due_date:new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)}}},methods:{save:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,Le(this.classroom,"postClass");case 3:t=e.sent,g(this,t.code),this.isLoading=!1,this.$parent.close();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getKeys:function(){var e=this;this.isLoading=!0,K.a.get("".concat("https://duislessonserver.herokuapp.com","/api/sessionid?_token=").concat("46220802","&user_id=").concat(this.$cookie.get("userId"),"&session_role=m&archive_mode=m")).then(function(t){e.isLoading=!1,e.classroom.sessionId=t.data.session_id,e.classroom.token=t.data.token_id}).catch(function(t){e.isLoading=!1,console.log(t)})}},mounted:function(){this.getKeys()}},Me=Ae,De=(s("d360"),Object(c["a"])(Me,Te,je,!1,null,"6341c30a",null));De.options.__file="ModalClass.vue";var Ue=De.exports,Ve={data:function(){return{isModalClassActive:!1,dataClass:{},today:new Date,role:this.$cookie.get("role"),isFullPage:!0,isLoading:!1}},components:{ModalClass:Ue},methods:{getClass:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te.get("/class").then(function(e){e.data.res&&(t.dataClass=e.data.class)}).catch(function(e){console.log(e),g(t,"E004")});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),assignClass:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,s,i,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,Le({id:n,userId:this.$cookie.get("userId").toString(),userName:this.$cookie.get("name").toString()},"addUserChatkit");case 3:a=e.sent,"I"==a.code.split("")[0]?(this.$cookie.set("classId",t,{expires:"12h"}),this.$cookie.set("sessionId",s,{expires:"12h"}),this.$cookie.set("token",i,{expires:"12h"}),this.$cookie.set("isClass",!0,{expires:"12h"}),this.$cookie.set("isTime",!1,{expires:"12h"}),this.$cookie.set("time_h",0,{expires:"12h"}),this.$cookie.set("time_m",0,{expires:"12h"}),this.$cookie.set("time_s",0,{expires:"12h"}),this.$cookie.set("videoShared","N",{expires:"12h"}),this.$cookie.set("audioShared","N",{expires:"12h"}),this.$cookie.set("roomIdChatkit",n,{expires:"12h"}),this.$router.push({name:"tablero"}),this.isLoading=!1):this.isLoading=!1;case 5:case"end":return e.stop()}},e,this)}));return function(t,s,i,n){return e.apply(this,arguments)}}(),notifyStudent:function(e){g(this,e)}},mounted:function(){this.getClass()},create:function(){},watch:{isModalClassActive:function(){this.getClass()}}},ze=Ve,Ne=(s("85bf"),Object(c["a"])(ze,Pe,Re,!1,null,"35a5df96",null));Ne.options.__file="Class.vue";var Fe=Ne.exports,qe=s("1e9f"),Je=s.n(qe);i["default"].use(d["a"]);var Be=new d["a"]({routes:[{path:"/",name:"login",component:_,meta:{isAuth:!0}},{path:"/panel",name:"panel",redirect:"/panel/tablero",component:M,meta:{requiredAuth:!0},children:[{path:"tablero",name:"tablero",component:Oe,meta:{requiredAuth:!0}},{path:"class",name:"class",component:Fe,meta:{requiredAuth:!0}}]}]});Be.beforeEach(function(e,t,s){if(e.meta.requiredAuth){var i=Je.a.get("userId");i?s():Be.push("/")}else s();if(e.meta.isAuth){var n=Je.a.get("userId");n?Be.push("/panel"):s()}else s()});var We=Be,Xe=s("00e7"),Ye=s.n(Xe),He=s("85ff"),Ke=s.n(He),Ge=s("c718"),Qe=(s("a7be"),s("f9d4"),s("7b00"),s("4b34"),s("4ff4"),s("44d5"),s("db91"),s("1b63"),s("ffda"),s("d5e0"),s("a84f"),s("7a7a"),s("281e"),s("31c5"),s("9948"),s("b933"),s("9b74"),s("f6b6"),s("3c98"),s("9c7b"),s("715d"),s("23de"),s("4ba6"),s("8c33"),s("7289"),s("2aed"),s("d72f"),s("0b6c"),s("9a48"),s("697e"),s("aedd"),s("164b"),s("4895"),s("cbc8"),s("8d70"),s("9f09"),s("a2c1"),s("8a03")),Ze=s.n(Qe);s("5abe");i["default"].use(Ye.a),i["default"].use(Ze.a,{defaultDayNames:["D","L","M","Mi","J","V","S"],defaultMonthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],defaultFirstDayOfWeek:1,defaultDateFormatter:function(e){return e.toLocaleDateString("es-ES")}}),i["default"].use(Ge["a"]);var et={isEnabled:!0,logLevel:"debug",stringifyArguments:!1,showLogLevel:!1,showMethodName:!1,separator:"|",showConsoleColors:!1};i["default"].use(Ke.a,et),i["default"].config.productionTip=!1,new i["default"]({router:We,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";var i=s("2856"),n=s.n(i);n.a},"625c":function(e,t,s){"use strict";var i=s("95c3"),n=s.n(i);n.a},"85bf":function(e,t,s){"use strict";var i=s("29ad"),n=s.n(i);n.a},"95c3":function(e,t,s){},a414:function(e,t,s){},a5af:function(e,t,s){"use strict";var i=s("495e"),n=s.n(i);n.a},aa8d:function(e,t,s){"use strict";var i=s("a414"),n=s.n(i);n.a},b0a0:function(e,t,s){"use strict";var i=s("e03b"),n=s.n(i);n.a},bf26:function(e,t,s){},cdd9:function(e,t){e.exports={S001:"Inicio de sesión exitoso",S002:"Clase creada con exito",S003:"Reclamo enviando con exito",S004:"Clase finalizada",I001:"Usuario encontrado",I002:"Clases encontradas",I003:"Clase eliminada",I004:"Descargando archivo",I005:"Usuario encontrado en Chatkit",W001:"Los estudiantes no pueden crear clases",E001:"Error al iniciar sesión",E002:"Error al consultar usuario",E003:"Usuario no encontrado",E004:"Error al consultar clases",E005:"Error al crear la clase",E006:"Error al enviar el reclamo",E007:"Error al finalizar la clase",E008:"Error al eliminar clase",E009:"Error al descargar archivo",E010:"Usuario no encontrado en chatkit"}},d360:function(e,t,s){"use strict";var i=s("06c9"),n=s.n(i);n.a},d461:function(e,t,s){"use strict";var i=s("f345"),n=s.n(i);n.a},e03b:function(e,t,s){},e8ca:function(e,t,s){"use strict";var i=s("03cb"),n=s.n(i);n.a},f345:function(e,t,s){},fbaf:function(e,t,s){"use strict";var i=s("bf26"),n=s.n(i);n.a}});
//# sourceMappingURL=app.57f1f8ff.js.map